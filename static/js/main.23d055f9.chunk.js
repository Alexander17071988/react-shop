(this["webpackJsonpshop-project"]=this["webpackJsonpshop-project"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(2),l=a.n(r);a(12);function o(){return c.a.createElement("nav",{className:"green darken-1"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"!#",className:"brand-logo"},"React Shop"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement("a",{href:"!#"},"Repo")))))}function i(){return c.a.createElement("footer",{className:"page-footer deep-purple darken-4"},c.a.createElement("div",{className:"footer-copyright"},c.a.createElement("div",{className:"container"},"\xa9 ",(new Date).getFullYear()," Copyright Text",c.a.createElement("a",{className:"grey-text text-lighten-4 right",href:"#!"},"Repo"))))}function s(){return c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"indeterminate"}))}function m(e){const{id:t,name:a,description:n,price:r,full_background:l,addToBasket:o=Function.prototype}=e;return c.a.createElement("div",{className:"card",id:t},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{src:l,alt:a})),c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},a),c.a.createElement("p",null,n)),c.a.createElement("div",{className:"card-action"},c.a.createElement("button",{className:"btn",onClick:()=>o({id:t,name:a,description:n,price:r,full_background:l})},"\u041a\u0443\u043f\u0438\u0442\u044c"),c.a.createElement("span",{className:"right"},r)))}function u(e){const{goods:t=[],addToBasket:a=Function.prototype}=e;return t.length?c.a.createElement("div",{className:"goods"},t.map(e=>c.a.createElement(m,Object.assign({key:e.id},e,{addToBasket:a})))):c.a.createElement("h3",null,"Nothing here")}function d(e){const{quantity:t=0,handleBasketShow:a=Function.prototype}=e;return c.a.createElement("div",{className:"cart blue darken-4 white-text",onClick:a},c.a.createElement("i",{className:"material-icons"},"local_grocery_store"),t?c.a.createElement("span",{className:"cart-quantity"},t):null)}function p(e){const{id:t,name:a,price:n,quantity:r,removeFromBasket:l=Function.prototype,incQuantity:o=Function.prototype,decQuantity:i=Function.prototype}=e;return c.a.createElement("li",{href:"#!",className:"collection-item"},a," x"," ",c.a.createElement("i",{className:"material-icons basket-quantity",onClick:()=>i(t)},"remove"),"x ",r," ",c.a.createElement("i",{className:"material-icons basket-quantity",onClick:()=>o(t)},"add"),"= ",n*r," \u0440\u0443\u0431.",c.a.createElement("span",{href:"#!",className:"secondary-content",onClick:()=>l(t)},c.a.createElement("i",{className:"material-icons basket-delete"},"close")))}function E(e){const{order:t=[],handleBasketShow:a=Function.prototype,removeFromBasket:n=Function.prototype,incQuantity:r,decQuantity:l}=e,o=t.reduce((e,t)=>e+t.price*t.quantity,0);return c.a.createElement("ul",{className:"collection basket-list"},c.a.createElement("li",{className:"collection-item active"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),t.length?t.map(e=>c.a.createElement(p,Object.assign({key:e.id,removeFromBasket:n,incQuantity:r,decQuantity:l},e))):c.a.createElement("li",{className:"collection-item"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"),c.a.createElement("li",{className:"collection-item active"},"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",o," \u0440\u0443\u0431."),c.a.createElement("li",{className:"collection-item"},c.a.createElement("button",{className:"btn btn-small"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c")),c.a.createElement("i",{className:"material-icons basket-close",onClick:a},"close"))}function h(e){const{name:t="",closeAlert:a=Function.prototype}=e;return Object(n.useEffect)(()=>{const e=setTimeout(a,3e3);return()=>{clearTimeout(e)}},[t]),c.a.createElement("div",{id:"toast-container"},c.a.createElement("div",{className:"toast"},t," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))}function f(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)(!0),[l,o]=Object(n.useState)([]),[i,m]=Object(n.useState)(!1),[p,f]=Object(n.useState)(""),y=()=>{m(!i)};return Object(n.useEffect)((function(){fetch("https://fortniteapi.io/v1/shop?lang=en",{headers:{Authorization:"ed7927d9-f48c57c9-a2b4ed9c-db5705c7"}}).then(e=>e.json()).then(e=>{e.featured&&t(e.featured),r(!1)})}),[]),c.a.createElement("main",{className:"container content"},c.a.createElement(d,{quantity:l.length,handleBasketShow:y}),a?c.a.createElement(s,null):c.a.createElement(u,{goods:e,addToBasket:e=>{const t=l.findIndex(t=>t.id===e.id);if(t<0){const t={...e,quantity:1};o([...l,t])}else{const e=l.map((e,a)=>a===t?{...e,quantity:e.quantity+1}:e);o(e)}f(e.name)}}),i&&c.a.createElement(E,{order:l,handleBasketShow:y,removeFromBasket:e=>{const t=l.filter(t=>t.id!==e);o(t)},incQuantity:e=>{const t=l.map(t=>{if(t.id===e){const e=t.quantity+1;return{...t,quantity:e}}return t});o(t)},decQuantity:e=>{const t=l.map(t=>{if(t.id===e){const e=t.quantity-1;return{...t,quantity:e>=0?e:0}}return t});o(t)}}),p&&c.a.createElement(h,{name:p,closeAlert:()=>{f("")}}))}var y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o,null),c.a.createElement(f,null),c.a.createElement(i,null))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)))},3:function(e,t,a){e.exports=a(13)}},[[3,1,2]]]);
//# sourceMappingURL=main.23d055f9.chunk.js.map